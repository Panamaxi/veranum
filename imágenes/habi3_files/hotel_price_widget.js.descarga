var isNative=function(){for(var e=null,t=[Object,Function,Number],n=0;null===e&&n<t.length;)-1===((e=t[n].prototype.toString)+"").indexOf("native")&&(e=null,n+=1);var r=Function.prototype.toString,o=/^\[object .+?Constructor\]$/,i=RegExp("^"+(e+"").replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return null===e?function(e){return!0}:function(t){var n=typeof t;return"function"==n?i.test(r.call(t)):t&&"object"==n&&o.test(e.call(t))||!1}}();!function(){if(function(e){var t="currentScript";t in e||Object.defineProperty(e,t,{get:function(){try{throw Error()}catch(u){var t,n,r,o=0,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(u.stack),c=i&&i[1]||!1,a=i&&i[2]||!1,s=e.location.href.replace(e.location.hash,""),l=e.getElementsByTagName("script");for(c===s&&(t=e.documentElement.outerHTML,n=RegExp("(?:[^\\n]+?\\n){0,"+(a-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=t.replace(n,"$1").trim());o<l.length;o++){if("interactive"===l[o].readyState)return l[o];if(l[o].src===c)return l[o];if(c===s&&l[o].innerHTML&&l[o].innerHTML.trim()===r)return l[o]}return null}}})}(document),!function(){if(!document.currentScript)return!1;var e,t,n="https://www.thehotelsnetwork.com/polyfill/v3/polyfill.min.js",r={generic:{test:function(){const e=!!(window.URL&&"Symbol"in self&&window.EventSource&&window.fetch&&"name"in Function.prototype&&"isInteger"in Number&&"MAX_SAFE_INTEGER"in Number&&"Promise"in self&&[].fill&&[].flat&&[].includes&&[].flatMap&&Object.assign&&window.Map&&window.WeakMap&&"navigator"in self&&"sendBeacon"in navigator&&"function"==typeof navigator.sendBeacon&&"AbortController"in self&&"function"==typeof self.AbortController&&"padStart"in String.prototype&&"padEnd"in String.prototype&&"replaceAll"in String.prototype&&"includes"in String.prototype&&"queueMicrotask"in self&&"object"==typeof globalThis),t=null!==document.querySelector('script[src="'+r.generic.urls[0]+'"]');return!e&&!t},urls:["".concat(n,"?version=3.111.0&features=Symbol%2Cdefault%2Cfetch%2CEventSource%2CFunction.name%2CNumber.isInteger%2CNumber.MAX_SAFE_INTEGER%2CWeakMap%2CArray.prototype.flat%2CArray.prototype.includes%2CArray.prototype.flatMap%2Cnavigator.sendBeacon%2CAbortController%2CString.prototype.padStart%2CString.prototype.padEnd%2CString.prototype.replaceAll%2CqueueMicrotask%2CglobalThis")]},"Fn.bind":{test:function(){const e=isNative(Function.prototype.bind),t=null!==document.querySelector('script[src="'+r["Fn.bind"].urls[0]+'"]');return!e&&!t},urls:["".concat(n,"?version=3.111.0&features=Function.prototype.bind%7Calways&excludes=Object.defineProperty")]},CSSStyleSheet:{test:function(){var e=!0;if(null!==document.querySelector('script[src="'+r.CSSStyleSheet.urls[0]+'"]'))return!1;try{new CSSStyleSheet}catch(t){e=!1}return!e},urls:["https://www.thehotelsnetwork.com/esm/construct-style-sheets-polyfill@3.1.0/dist/adoptedStyleSheets.js?raw"]},ric:{test:function(){const e=!!window.requestIdleCallback,t=null!==document.querySelector('script[src="'+r.ric.urls[0]+'"]');return!e&&!t},urls:["".concat(n,"?version=3.111.0&features=requestIdleCallback")]}},o=[window,document,"script"],i=[],c=function(e,t,n,r,o,c){var a;o=t.createElement(n),c=t.currentScript,o.src=r,o.inject=function(){(c.parentNode||t.head).insertBefore(o,c.parentNode&&c||t.head.lastElementChild),setTimeout(o.onload,1e3)},o.onload=(a=!1,function(){a||(a=!0,(i.shift()||{inject:function(){}}).inject())}),i.push(o)};for(e in r)if(r.hasOwnProperty(e)&&r[e].test())for(t=0;t<r[e].urls.length;t+=1)c.apply(null,o.concat(r[e].urls[t]));var a=i.length;return a&&(c.apply(null,o.concat(document.currentScript.src)),i.shift().inject()),!!a}()){try{window.performance.clearMarks("thn-loader-start"),window.performance.mark("thn-loader-start",{details:{currentScript:document.currentScript}})}catch(e){}!function(){"use strict";function e(e){return!e||"object"!=typeof e&&"function"!=typeof e}function t(e,n){return Array.isArray(n)?Object(e)===e&&n.every((t=>Object.prototype.hasOwnProperty.call(e,t))):t(e,[n])}"undefined"==typeof self||self.thn||(self.thn={},function(){function e(e,t){return(t||"")+" (SystemJS https://github.com/systemjs/systemjs/blob/main/docs/errors.md#"+e+")"}function t(e,t){if(-1!==e.indexOf("\\")&&(e=e.replace(O,"/")),"/"===e[0]&&"/"===e[1])return t.slice(0,t.indexOf(":")+1)+e;if("."===e[0]&&("/"===e[1]||"."===e[1]&&("/"===e[2]||2===e.length&&(e+="/"))||1===e.length&&(e+="/"))||"/"===e[0]){var n,r=t.slice(0,t.indexOf(":")+1);if(n="/"===t[r.length+1]?"file:"!==r?(n=t.slice(r.length+2)).slice(n.indexOf("/")+1):t.slice(8):t.slice(r.length+("/"===t[r.length])),"/"===e[0])return t.slice(0,t.length-n.length-1)+e;for(var o=n.slice(0,n.lastIndexOf("/")+1)+e,i=[],c=-1,a=0;a<o.length;a++)-1!==c?"/"===o[a]&&(i.push(o.slice(c,a+1)),c=-1):"."===o[a]?"."!==o[a+1]||"/"!==o[a+2]&&a+2!==o.length?"/"===o[a+1]||a+1===o.length?a+=1:c=a:(i.pop(),a+=2):c=a;return-1!==c&&i.push(o.slice(c)),t.slice(0,t.length-n.length)+i.join("")}}function n(e,n){return t(e,n)||(-1!==e.indexOf(":")?e:t("./"+e,n))}function r(e,n,r,o,i){for(var c in e){var l=t(c,r)||c,u=e[c];if("string"==typeof u){var f=s(o,t(u,r)||u,i);f?n[l]=f:a("W1",c,u)}}}function o(e,t,o){var i;for(i in e.imports&&r(e.imports,o.imports,t,o,null),e.scopes||{}){var c=n(i,t);r(e.scopes[i],o.scopes[c]||(o.scopes[c]={}),t,o,c)}for(i in e.depcache||{})o.depcache[n(i,t)]=e.depcache[i];for(i in e.integrity||{})o.integrity[n(i,t)]=e.integrity[i]}function i(e,t){if(t[e])return e;var n=e.length;do{var r=e.slice(0,n+1);if(r in t)return r}while(-1!==(n=e.lastIndexOf("/",n-1)))}function c(e,t){var n=i(e,t);if(n){var r=t[n];if(null===r)return;if(!(e.length>n.length&&"/"!==r[r.length-1]))return r+e.slice(n.length);a("W2",n,r)}}function a(t,n,r,o){console.warn(e(t,[r,n].join(", ")))}function s(e,t,n){for(var r=e.scopes,o=n&&i(n,r);o;){var a=c(t,r[o]);if(a)return a;o=i(o.slice(0,o.lastIndexOf("/")),r)}return c(t,e.imports)||-1!==t.indexOf(":")&&t}function l(){this[_]={}}function u(t,n,r,o){var i=n.split("?")[0],c=t[_][i];if(c)return c;var a=[],s=Object.create(null);E&&Object.defineProperty(s,E,{value:"Module"});var l=Promise.resolve().then((function(){return t.instantiate(n,r,o)})).then((function(r){if(!r)throw Error(e(2,n));var o=r[1]((function(e,t){c.h=!0;var n=!1;if("string"==typeof e)e in s&&s[e]===t||(s[e]=t,n=!0);else{for(var r in e)t=e[r],r in s&&s[r]===t||(s[r]=t,n=!0);e&&e.__esModule&&(s.__esModule=e.__esModule)}if(n)for(var o=0;o<a.length;o++){var i=a[o];i&&i(s)}return t}),2===r[1].length?{import:function(e,n){return t.import(e,i,n)},meta:t.createContext(i)}:void 0);return c.e=o.execute||function(){},[r[0],o.setters||[],r[2]||[]]}),(function(e){throw c.e=null,c.er=e,e})),f=l.then((function(e){return Promise.all(e[0].map((function(n,r){var o=e[1][r],c=e[2][r];return Promise.resolve(t.resolve(n,i)).then((function(e){var n=u(t,e,i,c);return Promise.resolve(n.I).then((function(){return o&&(n.i.push(o),!n.h&&n.I||o(n.n)),n}))}))}))).then((function(e){c.d=e}))}));return c=t[_][i]={id:i,i:a,n:s,m:o,I:l,L:f,h:!1,d:void 0,e:void 0,er:void 0,E:void 0,C:void 0,p:void 0}}function f(e,t,n,r){if(!r[t.id])return r[t.id]=!0,Promise.resolve(t.L).then((function(){return t.p&&null!==t.p.e||(t.p=n),Promise.all(t.d.map((function(t){return f(e,t,n,r)})))})).catch((function(e){if(t.er)throw e;throw t.e=null,e}))}function h(e,t){return t.C=f(e,t,t,{}).then((function(){return p(e,t,{})})).then((function(){return t.n}))}function p(e,t,n){function r(){try{var e=i.call(P);if(e)return e=e.then((function(){t.C=t.n,t.E=null}),(function(e){throw t.er=e,t.E=null,e})),t.E=e;t.C=t.n,t.L=t.I=void 0}catch(e){throw t.er=e,e}}if(!n[t.id]){if(n[t.id]=!0,!t.e){if(t.er)throw t.er;return t.E?t.E:void 0}var o,i=t.e;return t.e=null,t.d.forEach((function(r){try{var i=p(e,r,n);i&&(o=o||[]).push(i)}catch(e){throw t.er=e,e}})),o?Promise.all(o).then(r):r()}}function d(){[].forEach.call(document.querySelectorAll("script"),(function(t){if(!t.sp)if("systemjs-module"===t.type){if(t.sp=!0,!t.src)return;System.import("import:"===t.src.slice(0,7)?t.src.slice(7):n(t.src,m)).catch((function(e){if(e.message.indexOf("https://github.com/systemjs/systemjs/blob/main/docs/errors.md#3")>-1){var n=document.createEvent("Event");n.initEvent("error",!1,!1),t.dispatchEvent(n)}return Promise.reject(e)}))}else if("systemjs-importmap"===t.type){t.sp=!0;var r=t.src?(System.fetch||fetch)(t.src,{integrity:t.integrity,passThrough:!0}).then((function(e){if(!e.ok)throw Error(e.status);return e.text()})).catch((function(n){return n.message=e("W4",t.src)+"\n"+n.message,console.warn(n),"function"==typeof t.onerror&&t.onerror(),"{}"})):t.innerHTML;k=k.then((function(){return r})).then((function(n){!function(t,n,r){var i={};try{i=JSON.parse(n)}catch(t){console.warn(Error(e("W5")))}o(i,r,t)}(A,n,t.src||m)}))}}))}var m,v="undefined"!=typeof Symbol,g="undefined"!=typeof self,y="undefined"!=typeof document,b=g?self:global;if(y){var w=document.querySelector("base[href]");w&&(m=w.href)}if(!m&&"undefined"!=typeof location){var S=(m=location.href.split("#")[0].split("?")[0]).lastIndexOf("/");-1!==S&&(m=m.slice(0,S+1))}var j,O=/\\/g,E=v&&Symbol.toStringTag,_=v?Symbol():"@",x=l.prototype;x.import=function(e,t,n){var r=this;return t&&"object"==typeof t&&(n=t,t=void 0),Promise.resolve(r.prepareImport()).then((function(){return r.resolve(e,t,n)})).then((function(e){var t=u(r,e,void 0,n);return t.C||h(r,t)}))},x.createContext=function(e){var t=this;return{url:e,resolve:function(n,r){return Promise.resolve(t.resolve(n,r||e))}}},x.register=function(e,t,n){j=[e,t,n]},x.getRegister=function(){var e=j;return j=void 0,e};var P=Object.freeze(Object.create(null));b.thn.System=new l;var C,T,k=Promise.resolve(),A={imports:{},scopes:{},depcache:{},integrity:{}},I=y;if(x.prepareImport=function(e){return(I||e)&&(d(),I=!1),k},y&&(d(),window.addEventListener("DOMContentLoaded",d)),x.addImportMap=function(e,t){o(e,t||m,A)},y){window.addEventListener("error",(function(e){L=e.filename,N=e.error}));var M=location.origin}x.createScript=function(e){var t=document.createElement("script");t.async=!0,e.indexOf(M+"/")&&(t.crossOrigin="anonymous");var n=A.integrity[e];return n&&(t.integrity=n),t.src=e,t};var L,N,R={},F=x.register;x.register=function(e,t){if(y&&"loading"===document.readyState&&"string"!=typeof e){var n=document.querySelectorAll("script[src]"),r=n[n.length-1];if(r){C=e;var o=this;T=setTimeout((function(){R[r.src]=[e,t],o.import(r.src)}))}}else C=void 0;return F.call(this,e,t)},x.instantiate=function(t,n){var r=R[t];if(r)return delete R[t],r;var o=this;return Promise.resolve(x.createScript(t)).then((function(r){return new Promise((function(i,c){r.addEventListener("error",(function(){c(Error(e(3,[t,n].join(", "))))})),r.addEventListener("load",(function(){if(document.head.removeChild(r),L===t)c(N);else{var e=o.getRegister(t);e&&e[0]===C&&clearTimeout(T),i(e)}})),document.head.appendChild(r)}))}))},x.shouldFetch=function(){return!1},"undefined"!=typeof fetch&&(x.fetch=fetch);var q=x.instantiate,$=/^(text|application)\/(x-)?javascript(;|$)/;x.instantiate=function(t,n,r){var o=this;return this.shouldFetch(t,n,r)?this.fetch(t,{credentials:"same-origin",integrity:A.integrity[t],meta:r}).then((function(r){if(!r.ok)throw Error(e(7,[r.status,r.statusText,t,n].join(", ")));var i=r.headers.get("content-type");if(!i||!$.test(i))throw Error(e(4,i));return r.text().then((function(e){return e.indexOf("//# sourceURL=")<0&&(e+="\n//# sourceURL="+t),(0,eval)(e),o.getRegister(t)}))})):q.apply(this,arguments)},x.resolve=function(n,r){return s(A,t(n,r=r||m)||n,r)||function(t,n){throw Error(e(8,[t,n].join(", ")))}(n,r)};var B=x.instantiate;x.instantiate=function(e,t,n){var r=A.depcache[e];if(r)for(var o=0;o<r.length;o++)u(this,this.resolve(r[o],e),e);return B.call(this,e,t,n)},g&&"function"==typeof importScripts&&(x.instantiate=function(e){var t=this;return Promise.resolve().then((function(){return importScripts(e),t.getRegister(e)}))})}(),function(){function e(e,t){if(-1!==e.indexOf("\\")&&(e=e.replace(o,"/")),"/"===e[0]&&"/"===e[1])return t.slice(0,t.indexOf(":")+1)+e;if("."===e[0]&&("/"===e[1]||"."===e[1]&&("/"===e[2]||2===e.length&&(e+="/"))||1===e.length&&(e+="/"))||"/"===e[0]){var n,r=t.slice(0,t.indexOf(":")+1);if(n="/"===t[r.length+1]?"file:"!==r?(n=t.slice(r.length+2)).slice(n.indexOf("/")+1):t.slice(8):t.slice(r.length+("/"===t[r.length])),"/"===e[0])return t.slice(0,t.length-n.length-1)+e;for(var i=n.slice(0,n.lastIndexOf("/")+1)+e,c=[],a=-1,s=0;s<i.length;s++)-1!==a?"/"===i[s]&&(c.push(i.slice(a,s+1)),a=-1):"."===i[s]?"."!==i[s+1]||"/"!==i[s+2]&&s+2!==i.length?"/"===i[s+1]||s+1===i.length?s+=1:a=s:(c.pop(),s+=2):a=s;return-1!==a&&c.push(i.slice(a)),t.slice(0,t.length-n.length)+c.join("")}}var t;if("undefined"!=typeof document){var n=document.querySelector("base[href]");n&&(t=n.href)}if(!t&&"undefined"!=typeof location){var r=(t=location.href.split("#")[0].split("?")[0]).lastIndexOf("/");-1!==r&&(t=t.slice(0,r+1))}var o=/\\/g;!function(t){var n=t.thn.System.constructor.prototype,r=/^[^#?]+\.(css|html|json|wasm)([?#].*)?$/,o=n.shouldFetch.bind(n);n.shouldFetch=function(e){return o(e)||r.test(e)};var i=/^application\/json(;|$)/,c=/^text\/css(;|$)/,a=/^application\/wasm(;|$)/,s=n.fetch;n.fetch=function(n,r){return s(n,r).then((function(o){if(r.passThrough)return o;if(!o.ok)return o;var s=o.headers.get("content-type");return i.test(s)?o.json().then((function(e){return new Response(new Blob(['thn.System.register([],function(e){return{execute:function(){e("default",'+JSON.stringify(e)+")}}})"],{type:"application/javascript"}))})):c.test(s)?o.text().then((function(t){return t=t.replace(/url\(\s*(?:(["'])((?:\\.|[^\n\\"'])+)\1|((?:\\.|[^\s,"'()\\])+))\s*\)/g,(function(t,r,o,i){return"url("+r+(e(c=o||i,a=n)||(-1!==c.indexOf(":")?c:e("./"+c,a)))+r+")";var c,a})),new Response(new Blob(["thn.System.register([],function(e){return{execute:function(){var s=new CSSStyleSheet();s.replaceSync("+JSON.stringify(t)+');e("default",s)}}})'],{type:"application/javascript"}))})):a.test(s)?(WebAssembly.compileStreaming?WebAssembly.compileStreaming(o):o.arrayBuffer().then(WebAssembly.compile)).then((function(e){t.thn.System.wasmModules||(t.thn.System.wasmModules=Object.create(null)),t.thn.System.wasmModules[n]=e;var r=[],o=[];return WebAssembly.Module.imports&&WebAssembly.Module.imports(e).forEach((function(e){var t=JSON.stringify(e.module);-1===r.indexOf(t)&&(r.push(t),o.push("function(m){i["+t+"]=m}"))})),new Response(new Blob(["thn.System.register(["+r.join(",")+"],function(e){var i={};return{setters:["+o.join(",")+"],execute:function(){return WebAssembly.instantiate(System.wasmModules["+JSON.stringify(n)+"],i).then(function(m){e(m.exports)})}}})"],{type:"application/javascript"}))})):o}))}}("undefined"!=typeof self?self:global)}(),function(e){var t,n=e.thn.System.constructor.prototype,r=n.resolve;n.resolve=function(e,n){var o;return t?r.call(this,function(e){var n,r,o;return"."!==(o=e).slice(0,1)&&"http"!==o.slice(0,4)?e:(r=[(n=e.split("?"))[1],t].filter((e=>e)).join("&").replace(/\w/,"?$&"),n[0]+r)}(e),n):(o=r.call(this,e,n),t=e.split("?")[1]||o.split("?")[1]||"",o)}}("undefined"!=typeof self?self:global));var n=function t(){var n=[].slice.call(arguments),r=!1;"boolean"==typeof n[0]&&(r=n.shift());var o=n[0];if(e(o))throw Error("extendee must be an object");for(var i,c=n.slice(1),a=c.length,s=0;s<a;s++){var l=c[s];for(var u in l)if(Object.prototype.hasOwnProperty.call(l,u)){var f=l[u];if(r&&(Array.isArray(i=f)||"[object Object]"=={}.toString.call(i))){var h=Array.isArray(f)?[]:{};o[u]=t(!0,Object.prototype.hasOwnProperty.call(o,u)&&!e(o[u])?o[u]:h,f)}else o[u]=f}}return o};const r="data-thn-current",o="__thn_script_src",i=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return n(!0,e,...r)},c="personalization-",a=["instant-btn","".concat(c,"inliner"),"".concat(c,"notify"),"".concat(c,"popify"),"price-widget","review-widget"],s=["agent-engines","agent-partnerships","agent-types","md5"],l=["agent-fingerprint"],u=["jquery","moment-timezone","vue"],f=e=>"".concat("@thehotelsnetwork/").concat(e),h=e=>e.flatMap((e=>[e,e.map((e=>"".concat(e,"/")))])),p=function(e,t){return t[e]||(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"latest")},d=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t=>""+new URL("/sjs".concat(t),e),o=Object.fromEntries(h([].concat(u.map((e=>[e,r("/".concat(e,"@").concat(p(e,n),"&bundle"))])),s.map((e=>{const t=f(e);return[t,r("/".concat(t,"@").concat(p(t,n),"&bundle"))]})),l.map((e=>{const t=f(e);return[t,r("/*".concat(t,"@").concat(p(t,n),"&no-bundle"))]})),a.map((e=>{const t=f(e);return[t,r("/".concat(t,"@").concat(p(t,n,"stable"),"&external=vue&no-bundle"))]}))))),c=Object.fromEntries(h(Object.entries(n).filter((e=>{let[n]=e;return!t(o,n)})).map((e=>{let[t]=e;return[t,r("/".concat(t,"@").concat(p(t,n),"&bundle"))]}))));return{imports:i(o,c)}},m={accountKey:"account_key",hotelId:"hotel_id",propertyId:"property_id"},v=function(e,t){const n=function(e,t){var n={},r=function(){var t=Array.prototype.slice.call(arguments),r=JSON.stringify(t);return r in n||(n[r]=e.apply(this,t)),n[r]};return r.cache=n,r}((function(e){const{URL:t}=globalThis,n=new t(e),[r,o,i,c,a,s,l]=[n.searchParams.get("property_id"),n.searchParams.get("hotel_id"),n.searchParams.get("account_key"),n.searchParams.get("bahiaprincipe_id"),n.searchParams.get("octorate_id"),n.searchParams.get("partnership_id"),n.searchParams.get("partnership_hotel_id")];if(r)return Promise.resolve({propertyId:r});if(o||c||a||s&&l){const e=new t(n);return e.pathname="/get_hotel_property_rel",globalThis.fetch(""+e).then((function(e){if(!e.ok)throw Error("".concat(e.status," ").concat(e.statusText));return e.json()})).then((function(e){const t={};return e&&1===e.result?(e.property_id&&(t.propertyId=e.property_id),e.account_key&&(t.accountKey=e.account_key),t):t}))}return Promise.resolve(i?{accountKey:i}:{})}));return n.cache.clear=()=>{Object.keys(n.cache).forEach((e=>{"clear"!==e&&delete n.cache[e]}))},n}(),g=e=>e[o]&&{src:e[o]}||e.document.querySelector("script[".concat(r,'="1"]'))||e.thn[o],y={async install(e){var t,n,r,c;let{thn:a,window:s}=e;const l=g(s);if(!l)return;const{URL:u}=s,f=new u(l.src);f.protocol="https:";const h=await v(l.src),p=await function(e){let{params:t,baseUrl:n}=e;if(!n)return Promise.reject();const{URL:r}=globalThis,o=new r(n);return o.pathname="/get_loader_data",Object.keys(t).forEach((e=>{var n;return o.searchParams.set(m[e]||e,null!==(n=t[e])&&void 0!==n?n:"")})),globalThis.fetch(""+o,{credentials:"include"}).then((e=>e.ok&&e.json())).then((e=>{var t;const n=null==e||null===(t=e.data)||void 0===t?void 0:t.init_thn_data;return n&&(n.office=e.office,n.hostname_real=n.hostname,n.hostname=o.host),e}))}({params:h,baseUrl:l.src}),{defaultVersion:y,office:b}=p,w=null==p||null===(t=p.data)||void 0===t?void 0:t.init_thn_data,S="index".concat(!1===(null==w?void 0:w.minified)?"":".min",".js"),j=new u("/widget/core/".concat(null!==(n=null!==(r=null==w?void 0:w.version)&&void 0!==r?r:y)&&void 0!==n?n:"4.0","/dist/main/").concat(S),f),O=null==p||null===(c=p.checksums)||void 0===c?void 0:c.main[S];O&&j.searchParams.set("h",O);const E=i({imports:{"@thehotelsnetwork/agent-main":""+j}},d(f.origin)),_=i(E,p.importmap||{});a.System.addImportMap(_),await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{document:t,MutationObserver:n}=globalThis,{document:r=t,MutationObserver:o=n}=e;return r.body?Promise.resolve():new Promise((e=>{const t=new o((n=>{n.some((n=>Array.from(n.addedNodes).some((n=>n===r.body&&(t.disconnect(),e(),!0)))))}));t.observe(r.documentElement,{childList:!0})}))}(s);const{default:x}=await a.System.import("@thehotelsnetwork/agent-main");if(x.System=a.System,x[o]=a[o],s.thn=x,x.Logger.setLevel(p.loggerLevel&&x.Logger[p.loggerLevel]||b&&x.Logger.DEBUG||x.Logger.OFF),x.data.contextDefault=x.data.contextDefault||{window:s,document:document,thn:x},p.data)x.siteCheck({loader:p});else{const e=f.searchParams.get("partnership_id")||"";x.partnershipCheck(e)}}};var b=Object.freeze({__proto__:null,plugin:y});!function(){const e={monolith:b};if((e=>{e.requestIdleCallback=e.requestIdleCallback||(e=>setTimeout(e,1))})(globalThis),!(e=>{let{document:t,thn:n}=e;const{currentScript:i}=t;if(i){const e=[...t.querySelectorAll("script[".concat(r,"]")),n[o]].filter(Boolean),c=e.filter((e=>!(i.src===e.src&&+e.getAttribute(r))));c.forEach((e=>{e.setAttribute(r,0)}));const a=c.length===e.length?1:0;if(i.setAttribute(r,a),!a)return!1;n[o]=i}return!0})(globalThis))return;const{URL:t}=globalThis,n=new t(g(globalThis).src);n.protocol="https:","caches"in globalThis&&async function(e,t){try{const t=await e.keys(),r=await Promise.all(t.map((t=>e.open(t)))),o=await Promise.all(r.map((e=>e.keys()))),i=[];return r.forEach(((e,t)=>{o[t].forEach((t=>{var r;(r=t).url.includes(n.host)&&-1===r.url.indexOf("/__OFFLINE__/")&&i.push(e.delete(t))}))})),await Promise[Promise.allSettled?"allSettled":"all"](i).catch((()=>"")),""}catch(e){return""}}(globalThis.caches),Promise.resolve().then((()=>Promise.resolve({plugins:["monolith"],importmap:{}}))).then((t=>{let{plugins:n,importmap:r}=t;r&&globalThis.thn.System.addImportMap(r),n.reduce(((t,n)=>t.then((()=>(async t=>{var n;const{thn:r}=globalThis,{plugin:o}=await(t in e?Promise.resolve(e[t]):r.System.import("@thehotelsnetowrk/agent-plugin-".concat(t)));return null===globalThis||void 0===globalThis||null===(n=globalThis.performance)||void 0===n||n.mark("thn-loader-plugin-install",{details:{pluginName:t}}),o.install({thn:r,window:globalThis})})(n))).catch()),Promise.resolve()).then((()=>{var e,t,n,r,o,i;try{var c,a,s,l,u,f;globalThis.thn.logger.debug("(timing) from domInteractive to loader-start:",null===(c=globalThis.performance)||void 0===c||null===(a=c.measure)||void 0===a||null===(s=a.call(c,"domInteractive:thn-loader-start:diff","domInteractive","thn-loader-start"))||void 0===s?void 0:s.duration),globalThis.thn.logger.debug("(timing) from loader-start to loader-end:",null===(l=globalThis.performance)||void 0===l||null===(u=l.measure)||void 0===u||null===(f=u.call(l,"thn-loader-start:thn-loader-end:diff","thn-loader-start"))||void 0===f?void 0:f.duration)}catch(e){}null===(e=globalThis.thn)||void 0===e||null===(t=e.logger)||void 0===t||t.debug("(timing) loader-start: ".concat(new Date(((null===(n=globalThis.performance)||void 0===n?void 0:n.timeOrigin)||0)+((null===(r=globalThis.performance)||void 0===r||null===(o=r.getEntriesByName)||void 0===o||null===(i=o.call(r,"thn-loader-start"))||void 0===i?void 0:i.reverse()[0].startTime)||0)).toISOString()))}))}))}()}()}}();
